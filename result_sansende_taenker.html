<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trin 5 – Din CalmClinic-type</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f2f9fc;
      margin: 0;
      padding: 0;
      color: #003366;
    }

    .hero {
      background-image: url('images/havbaggrund.jpg.png');
      background-size: cover;
      background-position: center;
      height: 220px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .overlay {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      background-color: rgba(0,0,0,0.3);
      z-index: 1;
    }

    .hero img {
      max-height: 100px;
      z-index: 2;
    }

    .wrapper {
      max-width: 700px;
      margin: 30px auto;
      background: white;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    h1 {
      text-align: center;
      font-size: 24px;
      margin-bottom: 10px;
    }

    p {
      font-size: 18px;
      line-height: 1.6;
      margin-bottom: 20px;
    }

    .section-title {
      font-weight: bold;
      margin-top: 30px;
      font-size: 18px;
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 0 0 30px;
    }

    ul li {
      font-size: 18px;
      margin-bottom: 12px;
      padding-left: 28px;
      position: relative;
    }

    ul.positiv li::before {
      content: "✔";
      color: green;
      position: absolute;
      left: 0;
    }

    ul.negativ li::before {
      content: "✖";
      color: red;
      position: absolute;
      left: 0;
    }

    input[type=email] {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }

    .send-button {
      padding: 12px 24px;
      font-size: 16px;
      background-color: #0077cc;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      display: block;
      width: 100%;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }

    .send-button:hover {
      background-color: #005fa3;
    }

    .hero-image {
      width: 100%;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      margin: 20px 0;
    }

    .next-step {
      margin-top: 40px;
      text-align: center;
    }

    .next-step a {
      display: inline-block;
      padding: 14px 24px;
      background-color: #005fa3;
      color: white;
      border-radius: 6px;
      text-decoration: none;
      font-size: 16px;
    }

    .next-step a:hover {
      background-color: #004080;
    }
  </style>
</head>
<body>

  <div class="hero">
    <div class="overlay"></div>
    <img src="images/logo.png" alt="CalmClinic Logo" />
  </div>

  <div class="wrapper">
    <h1 id="typeHeading">Din CalmClinic-type</h1>
    <img id="typeImage" src="" alt="Illustration" class="hero-image" />
    <p id="introText"></p>
    <p id="explanationText"></p>

    <div class="section-title">Det hjælper dig, når:</div>
    <ul class="positiv" id="positiveList"></ul>

    <div class="section-title">Du har ikke brug for:</div>
    <ul class="negativ" id="negativeList"></ul>

    <h2>Send til klinikken</h2>
    <p>Hvis det er denne kommunikationsform, du ønsker, at din tandlæge bruger under dine besøg, kan du sende testresultatet til klinikken.<br>Indtast klinikkens e-mailadresse og klik for at sende resultatet direkte.</p>

    <input type="email" id="clinicEmail" placeholder="f.eks. info@klinik.dk">
    <button onclick="sendToClinic()" class="send-button">Send til klinikken</button>

    <div class="next-step">
      <a href="calmcoach.html">📋 Klar til trin 4: Forbered dig til tandlægebesøget</a>
    </div>
  </div>

  <script>
    const descriptions = {
      "sansende_taenker": {
        title: "Sansende Tænker",
        image: "images/sansende_taenker.jpg.png",
        intro: "Du registrerer mange detaljer og har brug for logisk overblik og tydelig information.",
        explanation: "Du bliver tryg, når du kan forudse, hvad der skal ske, og når der er ro og overensstemmelse mellem det, der bliver sagt og gjort.",
        positiv: [
          "Du får information i logiske trin og i god tid",
          "Der er roligt og forudsigeligt i omgivelserne",
          "Du oplever, at alt bliver gennemført som aftalt",
          "Du får tydelig forklaring på både undersøgelse og behandling"
        ],
        negativ: [
          "Uforberedte overraskelser",
          "At blive talt hen over hovedet",
          "At opleve uro, afbrydelser eller ustrukturerede forløb"
        ],
        mail: `Patienten har gennemført CalmClinic-testen og identificerer sig som: Sansende Tænker

Denne type patient registrerer mange detaljer og søger logisk overblik. Det er vigtigt, at patienten oplever ro og tydelighed – og at der er overensstemmelse mellem det, der bliver sagt og gjort.

Anbefalet kommunikation i klinikken:

✅ Giv tydelig information i logiske trin
✅ Skab ro og forudsigelighed i omgivelserne
✅ Overhold aftaler og forbered patienten grundigt
✅ Forklar undersøgelse og behandling klart og detaljeret

❌ Undgå uforberedte ændringer og afvigelser fra det aftalte
❌ Undgå ustrukturerede eller hektiske forløb
❌ Undgå at tale forbi patientens behov for overblik

Formålet med CalmClinic-testen:
Testen hjælper med at identificere den kommunikationsform, der giver den enkelte patient mest tryghed og ro under tandbehandling. Ved at tage udgangspunkt i patientens oplevelse og behov, kan behandlingen tilpasses mere præcist – hvilket ofte fører til bedre samarbejde og øget tillid.

Læs mere på www.calmclinic.dk`
      }
      // Her kan du tilføje flere typer som "intuitiv_foeler" osv.
    };

    function getTypeFromURL() {
      const params = new URLSearchParams(window.location.search);
      return params.get("type") || "sansende_taenker";
    }

    function populatePage() {
      const type = getTypeFromURL();
      const data = descriptions[type];

      document.getElementById("typeHeading").textContent = "Din CalmClinic-type: " + data.title;
      document.getElementById("typeImage").src = data.image;
      document.getElementById("introText").textContent = data.intro;
      document.getElementById("explanationText").textContent = data.explanation;

      const posList = document.getElementById("positiveList");
      const negList = document.getElementById("negativeList");

      data.positiv.forEach(p => {
        const li = document.createElement("li");
        li.textContent = p;
        posList.appendChild(li);
      });

      data.negativ.forEach(n => {
        const li = document.createElement("li");
        li.textContent = n;
        negList.appendChild(li);
      });

      // Gem også resultatet i localStorage for Trin 5
      localStorage.setItem("calmClinicType", data.title);
      localStorage.setItem("sudScore", "–");
      localStorage.setItem("sudReason", data.intro + " " + data.explanation);
    }

    function sendToClinic() {
      const email = document.getElementById("clinicEmail").value;
      const type = getTypeFromURL();
      const data = descriptions[type];
      if (!email) {
        alert("Udfyld venligst klinikkens e-mailadresse.");
        return;
      }

      const subject = encodeURIComponent(`CalmClinic-type: ${data.title} – patientens kommunikationsbehov`);
      const body = encodeURIComponent(`Indhold til journal / intern vejledning:\n\n${data.mail}`);
      window.location.href = `mailto:${email}?subject=${subject}&body=${body}`;
    }

    populatePage();
  </script>
</body>
</html>
